<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="linelist">
<title>Compatibility with dplyr â€¢ linelist</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Compatibility with dplyr">
<meta property="og:description" content="linelist">
<meta property="og:image" content="https://epiverse-trace.github.io/linelist/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Google tag (gtag.js) --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XZ471458FQ"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XZ471458FQ');
</script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">linelist</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/linelist.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/compat-dplyr.html">Compatibility with dplyr</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/epiverse-trace/linelist/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Compatibility with dplyr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/epiverse-trace/linelist/blob/HEAD/vignettes/compat-dplyr.Rmd" class="external-link"><code>vignettes/compat-dplyr.Rmd</code></a></small>
      <div class="d-none name"><code>compat-dplyr.Rmd</code></div>
    </div>

    
    
<p>linelist philosophy is to prevent you from accidentally losing
valuable data, but to otherwise be totally transparent and not interfere
with your workflow.</p>
<p>One popular ecosystem for data science workflow is the tidyverse and
we are going the extra mile to ensure linelist compatibility with the
tidyverse. All dplyr verbs are thoroughly tested in the
<code>tests/test-compat-dplyr.R</code> file.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://epiverse-trace.github.io/linelist/">linelist</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"measles_hagelloch_1861"</span>, package <span class="op">=</span> <span class="st">"outbreaks"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/make_linelist.html">make_linelist</a></span><span class="op">(</span></span>
<span>  <span class="va">measles_hagelloch_1861</span>,</span>
<span>  id <span class="op">=</span> <span class="st">"case_ID"</span>,</span>
<span>  date_onset <span class="op">=</span> <span class="st">"date_of_prodrome"</span>,</span>
<span>  age <span class="op">=</span> <span class="st">"age"</span>,</span>
<span>  gender <span class="op">=</span> <span class="st">"gender"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
<div class="section level2">
<h2 id="verbs-operating-on-rows">Verbs operating on rows<a class="anchor" aria-label="anchor" href="#verbs-operating-on-rows"></a>
</h2>
<p>linelist does not modify anything regarding the behaviour for
row-operations. As such, it is fully compatible with dplyr verbs
operating on rows out-of-the-box. You can see in the following examples
that linelist does not produce any errors, warnings or messages and its
tags are conserved through dplyr operations on rows.</p>
<div class="section level3">
<h3 id="dplyrarrange">
<code>dplyr::arrange()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrarrange"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">case_ID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrdistinct">
<code>dplyr:distinct()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrdistinct"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrfilter">
<code>dplyr::filter()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrfilter"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">age</span> <span class="op">&gt;=</span> <span class="fl">10</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 2       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt; 3       8       45       1861-11-21   1861-11-26          &lt;NA&gt;  10      m</span></span>
<span><span class="co">#&gt; 4       9      182       1861-11-26   1861-11-30          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5      11      182       1861-11-25   1861-11-30          &lt;NA&gt;  11      f</span></span>
<span><span class="co">#&gt; 6      13       12       1861-11-30   1861-12-05          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 2        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 3        44     1           yes  97.5 155.0</span></span>
<span><span class="co">#&gt; 4        44     2           yes  97.5 155.0</span></span>
<span><span class="co">#&gt; 5        27     2           yes 270.0 135.0</span></span>
<span><span class="co">#&gt; 6        32     2           yes 195.0  27.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrslice">
<code>dplyr::slice()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrslice"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">5</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 2       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt; 3       7       42       1861-11-24   1861-11-28          &lt;NA&gt;   6      m</span></span>
<span><span class="co">#&gt; 4       8       45       1861-11-21   1861-11-26          &lt;NA&gt;  10      m</span></span>
<span><span class="co">#&gt; 5       9      182       1861-11-26   1861-11-30          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 6      10       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 2        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 3        26     0           yes 272.5 147.5</span></span>
<span><span class="co">#&gt; 4        44     1           yes  97.5 155.0</span></span>
<span><span class="co">#&gt; 5        44     2           yes  97.5 155.0</span></span>
<span><span class="co">#&gt; 6        29     1           yes 240.0  75.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span>
<span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_head</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span>
<span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_tail</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1     184       NA       1861-10-30   1861-11-06          &lt;NA&gt;  13   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2     185       82       1861-12-03   1861-12-07          &lt;NA&gt;   3      m</span></span>
<span><span class="co">#&gt; 3     186       45       1861-11-22   1861-11-26          &lt;NA&gt;   6   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 4     187       82       1861-12-07   1861-12-11          &lt;NA&gt;   0      m</span></span>
<span><span class="co">#&gt; 5     188      175       1861-11-23   1861-11-27          &lt;NA&gt;   1   &lt;NA&gt;</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        51     2           yes 182.5 200.0</span></span>
<span><span class="co">#&gt; 2        21     0           yes 205.0 182.5</span></span>
<span><span class="co">#&gt; 3        57     0           yes 212.5  90.0</span></span>
<span><span class="co">#&gt; 4        21     0           yes 205.0 182.5</span></span>
<span><span class="co">#&gt; 5        57     0           yes 212.5  90.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span>
<span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_min</a></span><span class="op">(</span><span class="va">age</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1     113       31       1861-12-04   1861-12-07          &lt;NA&gt;   0      f</span></span>
<span><span class="co">#&gt; 2     119      116       1861-12-01   1861-12-08          &lt;NA&gt;   0      f</span></span>
<span><span class="co">#&gt; 3     147       18       1861-12-03   1861-12-07          &lt;NA&gt;   0      f</span></span>
<span><span class="co">#&gt; 4     150      148       1861-12-11   1861-12-15          &lt;NA&gt;   0      m</span></span>
<span><span class="co">#&gt; 5     160       68       1861-12-12   1861-12-13          &lt;NA&gt;   0      f</span></span>
<span><span class="co">#&gt; 6     167      110       1861-12-14   1861-12-18          &lt;NA&gt;   0      m</span></span>
<span><span class="co">#&gt; 7     171      169       1861-12-15   1861-12-17          &lt;NA&gt;   0      m</span></span>
<span><span class="co">#&gt; 8     176      146       1861-12-11   1861-12-15          &lt;NA&gt;   0   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 9     187       82       1861-12-07   1861-12-11          &lt;NA&gt;   0      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        15     0           yes 125.0 187.5</span></span>
<span><span class="co">#&gt; 2        40     0           yes 127.5 147.5</span></span>
<span><span class="co">#&gt; 3        13     0           yes  72.5 152.5</span></span>
<span><span class="co">#&gt; 4        19     0           yes 255.0 230.0</span></span>
<span><span class="co">#&gt; 5        16     0           yes 165.0 192.5</span></span>
<span><span class="co">#&gt; 6        49     0           yes 175.0 140.0</span></span>
<span><span class="co">#&gt; 7        38     0           yes 132.5  80.0</span></span>
<span><span class="co">#&gt; 8        64     0           yes  72.5 152.5</span></span>
<span><span class="co">#&gt; 9        21     0           yes 205.0 182.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span>
<span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">age</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1      16      181       1861-11-21   1861-11-25          &lt;NA&gt;  15      f</span></span>
<span><span class="co">#&gt; 2      62       11       1861-12-02   1861-12-06          &lt;NA&gt;  14      m</span></span>
<span><span class="co">#&gt; 3     117      116       1861-12-02   1861-12-06          &lt;NA&gt;  14      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        43     2           yes 172.5 172.5</span></span>
<span><span class="co">#&gt; 2         8     2           yes 270.0 102.5</span></span>
<span><span class="co">#&gt; 3        40     2           yes 127.5 147.5</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span>
<span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_sample</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1      66       64       1861-12-03   1861-12-05          &lt;NA&gt;   5      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3     165      102       1861-12-15   1861-12-19          &lt;NA&gt;   2      m</span></span>
<span><span class="co">#&gt; 4      10       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 5     171      169       1861-12-15   1861-12-17          &lt;NA&gt;   0      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        30     0           yes 237.5    90</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5   100</span></span>
<span><span class="co">#&gt; 3        14     0           yes 257.5   180</span></span>
<span><span class="co">#&gt; 4        29     1           yes 240.0    75</span></span>
<span><span class="co">#&gt; 5        38     0           yes 132.5    80</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="verbs-operating-on-columns">Verbs operating on columns<a class="anchor" aria-label="anchor" href="#verbs-operating-on-columns"></a>
</h2>
<p>During operations on columns, linelist will:</p>
<ul>
<li>stay invisible and conserve tags if no tagged column is affected by
the operation</li>
<li>trigger <code><a href="../reference/lost_tags_action.html">lost_tags_action()</a></code> if tagged columns are
affected by the operation</li>
</ul>
<div class="section level3">
<h3 id="dplyrmutate-partial">
<code>dplyr::mutate()</code> âœ“ (partial)<a class="anchor" aria-label="anchor" href="#dplyrmutate-partial"></a>
</h3>
<p>There is an incomplete compatibility with
<code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> in that:</p>
<ul>
<li>simple renames without any actual modification of the column donâ€™t
update the tags. In this scenario, users should rather use
<code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">dplyr::rename()</a></code>
</li>
<li>in place column modifications cause tag losses</li>
</ul>
<p>Although <code><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">dplyr::mutate()</a></code> is not able to leverage to full
power of linelist tags, linelist objects behave as expected the same way
a data.frame would:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>major <span class="op">=</span> <span class="va">age</span> <span class="op">&gt;=</span> <span class="fl">18</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc major</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0 FALSE</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0 FALSE</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0 FALSE</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5 FALSE</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0 FALSE</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0 FALSE</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrpull">
<code>dplyr::pull()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrpull"></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">dplyr::pull()</a></code> returns a vector, which results, as
expected, in the loss of the linelist class and tags:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">age</span><span class="op">)</span></span>
<span><span class="co">#&gt;   [1]  7  6  4 13  8 12  6 10 13  7 11  7 13 13  8 15 10  2 11 10 13 10  7  4 12</span></span>
<span><span class="co">#&gt;  [26]  7  5 10 13 11  9  7  7 11 13 11 13 12 10 13 12  4  2 10  7 13 11  3 10  6</span></span>
<span><span class="co">#&gt;  [51]  4 13  6  4 11  8  3  9 10  2  5 14 12  7  2  5 11  2  1 13 10 10 11 10 13</span></span>
<span><span class="co">#&gt;  [76]  2  8 11  5 12 12  8 10  6  5  3 12 10  3 11  4  2  8  4  1  2 10  3  5 12</span></span>
<span><span class="co">#&gt; [101]  7 12 12  5  3  4 12  6  6  3 12 10  0 13 11  8 14  2  0  1 10  1  1  3  2</span></span>
<span><span class="co">#&gt; [126]  5  1  5  4 12  1 11  2 13  2 13 10 11 13  2  4  5 11  2  8  4  0 13  4  0</span></span>
<span><span class="co">#&gt; [151]  2  4 10  6 13  8  4  3  2  0  6  6  1  3  2  1  0  1  4 10  0  3  6  3  2</span></span>
<span><span class="co">#&gt; [176]  0  8  4  1 10 10 13  4 13  3  6  0  1</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrrelocate">
<code>dplyr::relocate()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrrelocate"></a>
</h3>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html" class="external-link">relocate</a></span><span class="op">(</span><span class="va">date_of_prodrome</span>, .before <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   date_of_prodrome case_ID infector date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1       1861-11-21       1       45   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       1861-11-23       2       45   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       1861-11-28       3      172   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       1861-11-27       4      180   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       1861-11-22       5       45   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 6       1861-11-26       6      180   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrrename-dplyrrename_with">
<code>dplyr::rename()</code> &amp; <code>dplyr::rename_with()</code>
âœ…<a class="anchor" aria-label="anchor" href="#dplyrrename-dplyrrename_with"></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">dplyr::rename()</a></code> is fully compatible out-of-the-box with
linelist, meaning that tags will be updated at the same time that
columns are renamed. This is possibly because it uses
<code>names&lt;-()</code> under the hood, which linelist provides a
custom <code>names&lt;-.linelist()</code> method for:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>edad <span class="op">=</span> <span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death edad gender</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;    7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;    6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;    4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;   13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;    8      f</span></span>
<span><span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;   12      m</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:edad</span></span>
<span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename_with</a></span><span class="op">(</span><span class="va">toupper</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   CASE_ID INFECTOR DATE_OF_PRODROME DATE_OF_RASH DATE_OF_DEATH AGE GENDER</span></span>
<span><span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span></span>
<span><span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span></span>
<span><span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span></span>
<span><span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span></span>
<span><span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span></span>
<span><span class="co">#&gt;   FAMILY_ID CLASS COMPLICATIONS X_LOC Y_LOC</span></span>
<span><span class="co">#&gt; 1        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 2        41     1           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 3        41     0           yes 142.5 100.0</span></span>
<span><span class="co">#&gt; 4        61     2           yes 165.0 102.5</span></span>
<span><span class="co">#&gt; 5        42     1           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:CASE_ID, date_onset:DATE_OF_PRODROME, gender:GENDER, age:AGE</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrselect-partial">
<code>dplyr::select()</code> âœ“ (partial)<a class="anchor" aria-label="anchor" href="#dplyrselect-partial"></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">dplyr::select()</a></code> is currently only partially compatible
with linelist because renames with <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code> do not
correctly update tags</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Works fine</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">case_ID</span>, <span class="va">date_of_prodrome</span>, <span class="va">gender</span>, <span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID date_of_prodrome gender age</span></span>
<span><span class="co">#&gt; 1       1       1861-11-21      f   7</span></span>
<span><span class="co">#&gt; 2       2       1861-11-23      f   6</span></span>
<span><span class="co">#&gt; 3       3       1861-11-28      f   4</span></span>
<span><span class="co">#&gt; 4       4       1861-11-27      m  13</span></span>
<span><span class="co">#&gt; 5       5       1861-11-22      f   8</span></span>
<span><span class="co">#&gt; 6       6       1861-11-26      m  12</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span>
<span></span>
<span><span class="co"># Tags are not updated!</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">case_ID</span>, <span class="va">date_of_prodrome</span>, <span class="va">gender</span>, edad <span class="op">=</span> <span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID date_of_prodrome gender edad</span></span>
<span><span class="co">#&gt; 1       1       1861-11-21      f    7</span></span>
<span><span class="co">#&gt; 2       2       1861-11-23      f    6</span></span>
<span><span class="co">#&gt; 3       3       1861-11-28      f    4</span></span>
<span><span class="co">#&gt; 4       4       1861-11-27      m   13</span></span>
<span><span class="co">#&gt; 5       5       1861-11-22      f    8</span></span>
<span><span class="co">#&gt; 6       6       1861-11-26      m   12</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:edad</span></span>
<span></span>
<span><span class="co"># Instead, split the selecting and renaming steps:</span></span>
<span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">case_ID</span>, <span class="va">date_of_prodrome</span>, <span class="va">gender</span>, <span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span>edad <span class="op">=</span> <span class="va">age</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID date_of_prodrome gender edad</span></span>
<span><span class="co">#&gt; 1       1       1861-11-21      f    7</span></span>
<span><span class="co">#&gt; 2       2       1861-11-23      f    6</span></span>
<span><span class="co">#&gt; 3       3       1861-11-28      f    4</span></span>
<span><span class="co">#&gt; 4       4       1861-11-27      m   13</span></span>
<span><span class="co">#&gt; 5       5       1861-11-22      f    8</span></span>
<span><span class="co">#&gt; 6       6       1861-11-26      m   12</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:edad</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="verbs-operating-on-groups">Verbs operating on groups âœ˜<a class="anchor" aria-label="anchor" href="#verbs-operating-on-groups"></a>
</h2>
<p>Groups are not yet supported. Applying any verb operating on group to
a linelist will silently convert it back to a data.frame or tibble.</p>
</div>
<div class="section level2">
<h2 id="verbs-operating-on-data-frames">Verbs operating on data.frames<a class="anchor" aria-label="anchor" href="#verbs-operating-on-data-frames"></a>
</h2>
<div class="section level3">
<h3 id="dplyrbind_rows">
<code>dplyr::bind_rows()</code> âœ…<a class="anchor" aria-label="anchor" href="#dplyrbind_rows"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 188  12</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html" class="external-link">dim</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_rows.html" class="external-link">bind_rows</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 376  12</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="dplyrbind_cols">
<code>dplyr::bind_cols()</code> âœ˜<a class="anchor" aria-label="anchor" href="#dplyrbind_cols"></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols()</a></code> is currently incompatible with linelist:</p>
<ul>
<li>Tags from the second element are lost</li>
<li>Warnings are produced about lost tagged, even for tags that are not
actually lost</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/bind_cols.html" class="external-link">bind_cols</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">case_ID</span>, <span class="va">date_of_prodrome</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">age</span>, <span class="va">gender</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in prune_tags(out, lost_action): The following tags have lost their variable:</span></span>
<span><span class="co">#&gt;  id:case_ID, date_onset:date_of_prodrome</span></span>
<span><span class="co">#&gt; Warning in prune_tags(out, lost_action): The following tags have lost their variable:</span></span>
<span><span class="co">#&gt;  gender:gender, age:age</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID date_of_prodrome age gender</span></span>
<span><span class="co">#&gt; 1       1       1861-11-21   7      f</span></span>
<span><span class="co">#&gt; 2       2       1861-11-23   6      f</span></span>
<span><span class="co">#&gt; 3       3       1861-11-28   4      f</span></span>
<span><span class="co">#&gt; 4       4       1861-11-27  13      m</span></span>
<span><span class="co">#&gt; 5       5       1861-11-22   8      f</span></span>
<span><span class="co">#&gt; 6       6       1861-11-26  12      m</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="joins">Joins âœ˜<a class="anchor" aria-label="anchor" href="#joins"></a>
</h3>
<p>Joins are currently not compatible with linelist as tags from the
second element are silently dropped.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full_join</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">case_ID</span>, <span class="va">date_of_prodrome</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/warning.html" class="external-link">suppressWarnings</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">case_ID</span>, <span class="va">age</span>, <span class="va">gender</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining with `by = join_by(case_ID)`</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID date_of_prodrome age gender</span></span>
<span><span class="co">#&gt; 1       1       1861-11-21   7      f</span></span>
<span><span class="co">#&gt; 2       2       1861-11-23   6      f</span></span>
<span><span class="co">#&gt; 3       3       1861-11-28   4      f</span></span>
<span><span class="co">#&gt; 4       4       1861-11-27  13      m</span></span>
<span><span class="co">#&gt; 5       5       1861-11-22   8      f</span></span>
<span><span class="co">#&gt; 6       6       1861-11-26  12      m</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="verbs-operating-on-multiple-columns">Verbs operating on multiple columns<a class="anchor" aria-label="anchor" href="#verbs-operating-on-multiple-columns"></a>
</h2>
<div class="section level3">
<h3 id="dplyrpick">
<code>dplyr::pick()</code> âœ˜<a class="anchor" aria-label="anchor" href="#dplyrpick"></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">pick()</a></code> makes tidyselect functions work in usually
tidyselect-incompatible functions, such as:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">pick</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">ends_with</a></span><span class="op">(</span><span class="st">"loc"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // linelist object</span></span>
<span><span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span></span>
<span><span class="co">#&gt; 1      26       45       1861-11-22   1861-11-27          &lt;NA&gt;   7      m</span></span>
<span><span class="co">#&gt; 2      28      180       1861-11-25   1861-11-30          &lt;NA&gt;  10      f</span></span>
<span><span class="co">#&gt; 3     146      172       1861-12-01   1861-12-07          &lt;NA&gt;   4      f</span></span>
<span><span class="co">#&gt; 4     147       18       1861-12-03   1861-12-07          &lt;NA&gt;   0      f</span></span>
<span><span class="co">#&gt; 5     176      146       1861-12-11   1861-12-15          &lt;NA&gt;   0   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 6     115       16       1861-12-01   1861-12-07          &lt;NA&gt;  11      f</span></span>
<span><span class="co">#&gt;   family_ID class complications x_loc y_loc</span></span>
<span><span class="co">#&gt; 1        67     1           yes   7.5  37.5</span></span>
<span><span class="co">#&gt; 2        65     2           yes  15.0  47.5</span></span>
<span><span class="co">#&gt; 3        13     0           yes  72.5 152.5</span></span>
<span><span class="co">#&gt; 4        13     0           yes  72.5 152.5</span></span>
<span><span class="co">#&gt; 5        64     0           yes  72.5 152.5</span></span>
<span><span class="co">#&gt; 6        66     2           yes  75.0  20.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; // tags: id:case_ID, date_onset:date_of_prodrome, gender:gender, age:age</span></span></code></pre></div>
<p>As such, we could expect it to work with linelist custom
tidyselect-like function: <code><a href="../reference/has_tag.html">has_tag()</a></code> but itâ€™s not the case
since <code><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">pick()</a></code> currently strips out all attributes, including
the <code>linelist</code> class and all tags. This unclassing is
documented in <code><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">?pick</a></code>:</p>
<blockquote>
<p><code><a href="https://dplyr.tidyverse.org/reference/pick.html" class="external-link">pick()</a></code> returns a data frame containing the selected
columns for the current group.</p>
</blockquote>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Hugo Gruson, Thibaut Jombart.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
