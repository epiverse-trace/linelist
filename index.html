<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basic Class and Methods for Case Line Lists • linelist</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Basic Class and Methods for Case Line Lists">
<meta property="og:description" content="Provides tools to store and handle case line list data, including identification of key dates (e.g. onset, reporting, outcome) and other variables commonly reported during an outbreak (e.g. age, gender, location). ">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">linelist</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/epiverse-trace/linelist/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">

<p><a href="https://opensource.org/licenses/MIT" class="external-link"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a> <a href="https://github.com/epiverse-trace/linelist/actions" class="external-link"><img src="https://github.com/epiverse-trace/linelist/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a> <a href="https://codecov.io/gh/epiverse-trace/linelist" class="external-link"><img src="https://codecov.io/gh/epiverse-trace/linelist/branch/main/graph/badge.svg?token=JGTCEY0W02" alt="codecov"></a> <a href="https://raw.githubusercontent.com/reconverse/reconverse.github.io/master/images/badge-experimental.svg" class="external-link uri">https://raw.githubusercontent.com/reconverse/reconverse.github.io/master/images/badge-experimental.svg</a> <!-- badges: end --></p>
<div class="section level1">
<div class="page-header"><h1 id="welcome-to-linelist">Welcome to linelist!<a class="anchor" aria-label="anchor" href="#welcome-to-linelist"></a>
</h1></div>
<p><br><strong><span style="color: red;">NOTE</span></strong></p>
<p>This package is a reboot of the RECON package <a href="https://github.com/reconhub/linelist" class="external-link">linelist</a>. Unliked its predecessor, the new package focuses on the implementation of a linelist class. It will also eventually implement data cleaning tools, replicating functionalities of the older package. However, the new package should be seen as a separate one, and will not aim to be backward compatible due to its change in scope.</p>
<p>The development version of <em>linelist</em> can be installed from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
  <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span>
<span class="op">}</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"epiverse-trace/linelist"</span>, build_vignettes <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="linelist-in-a-nutshell">linelist in a nutshell<a class="anchor" aria-label="anchor" href="#linelist-in-a-nutshell"></a>
</h2>
<p><em>linelist</em> is an R package which implements basic data representation for case line lists, alongside accessors and basic methods. It relies on the idea that key fields of the linelist such as dates of events (e.g. reporting, symptom onset), age, gender, symptoms, outcome, or location, should be explicitely identified to facilitate data cleaning, validation, and downstream analyses.</p>
<p>A <code>linelist</code> object is an instance of a <code>data.frame</code> or a <code>tibble</code> in which key epidemiological variables have been <em>tagged</em>. The main functions of the package include:</p>
<ul>
<li><p><code><a href="reference/make_linelist.html">make_linelist()</a></code>: to create a <code>linelist</code> object by tagging key epi variables in a <code>data.frame</code> or a <code>tibble</code></p></li>
<li><p><code><a href="reference/tags.html">tags()</a></code>: to list variables which have been tagged in a <code>linelist</code></p></li>
<li><p><code><a href="reference/tags_names.html">tags_names()</a></code>: to list all recognized tag names</p></li>
<li><p><code>set_tags():</code> to modify tags in a <code>linelist</code></p></li>
<li><p><code>select_tags():</code> to select columns of a <code>linelist</code> based on tags using <em>dplyr</em> compatible syntax</p></li>
<li><p><code><a href="reference/tags_df.html">tags_df()</a></code>: to obtain a <code>data.frame</code> of all the tagged variables in a <code>linelist</code></p></li>
<li><p><code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>: adapted from <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">dplyr::select</a></code>, for subsetting regular and tagged variables</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="worked-example">Worked example<a class="anchor" aria-label="anchor" href="#worked-example"></a>
</h2>
<p>In this example, we use the case line list of the Hagelloch 1861 measles outbreak.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># load libraries</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/reconhub/outbreaks" class="external-link">outbreaks</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/epiverse-trace/linelist" class="external-link">linelist</a></span><span class="op">)</span>

<span class="co"># overview of the data</span>
<span class="va">measles_hagelloch_1861</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   case_ID infector date_of_prodrome date_of_rash date_of_death age gender</span>
<span class="co">#&gt; 1       1       45       1861-11-21   1861-11-25          &lt;NA&gt;   7      f</span>
<span class="co">#&gt; 2       2       45       1861-11-23   1861-11-27          &lt;NA&gt;   6      f</span>
<span class="co">#&gt; 3       3      172       1861-11-28   1861-12-02          &lt;NA&gt;   4      f</span>
<span class="co">#&gt; 4       4      180       1861-11-27   1861-11-28          &lt;NA&gt;  13      m</span>
<span class="co">#&gt; 5       5       45       1861-11-22   1861-11-27          &lt;NA&gt;   8      f</span>
<span class="co">#&gt; 6       6      180       1861-11-26   1861-11-29          &lt;NA&gt;  12      m</span>
<span class="co">#&gt;   family_ID class complications x_loc y_loc</span>
<span class="co">#&gt; 1        41     1           yes 142.5 100.0</span>
<span class="co">#&gt; 2        41     1           yes 142.5 100.0</span>
<span class="co">#&gt; 3        41     0           yes 142.5 100.0</span>
<span class="co">#&gt; 4        61     2           yes 165.0 102.5</span>
<span class="co">#&gt; 5        42     1           yes 145.0 120.0</span>
<span class="co">#&gt; 6        42     2           yes 145.0 120.0</span></code></pre></div>
<p>Let us assume we want to tag the following variables to facilitate downstream analyses, after having checked their tag name in <code><a href="reference/make_linelist.html">?make_linelist</a></code>:</p>
<ul>
<li>the date of symptom onset, here called <code>prodrome</code> (tag: <code>date_onset</code>)</li>
<li>the date of death (tag: <code>date_death</code>)</li>
<li>the age of the patient (tag: <code>age</code>)</li>
<li>the gender of the patient (tag: <code>gender</code>)</li>
</ul>
<p>We create a <code>linelist</code> with the above information:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">measles_hagelloch_1861</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="reference/make_linelist.html">make_linelist</a></span><span class="op">(</span>date_onset <span class="op">=</span> <span class="st">"date_of_prodrome"</span>,
                date_death <span class="op">=</span> <span class="st">"date_of_death"</span>,
                age <span class="op">=</span> <span class="st">"age"</span>,
                gender <span class="op">=</span> <span class="st">"gender"</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // linelist object</span>
<span class="co">#&gt; # A tibble: 188 × 12</span>
<span class="co">#&gt;    case_ID infector date_of_prodrome date_of_rash date_of_death   age gender</span>
<span class="co">#&gt;      &lt;int&gt;    &lt;int&gt; &lt;date&gt;           &lt;date&gt;       &lt;date&gt;        &lt;dbl&gt; &lt;fct&gt; </span>
<span class="co">#&gt;  1       1       45 1861-11-21       1861-11-25   NA                7 f     </span>
<span class="co">#&gt;  2       2       45 1861-11-23       1861-11-27   NA                6 f     </span>
<span class="co">#&gt;  3       3      172 1861-11-28       1861-12-02   NA                4 f     </span>
<span class="co">#&gt;  4       4      180 1861-11-27       1861-11-28   NA               13 m     </span>
<span class="co">#&gt;  5       5       45 1861-11-22       1861-11-27   NA                8 f     </span>
<span class="co">#&gt;  6       6      180 1861-11-26       1861-11-29   NA               12 m     </span>
<span class="co">#&gt;  7       7       42 1861-11-24       1861-11-28   NA                6 m     </span>
<span class="co">#&gt;  8       8       45 1861-11-21       1861-11-26   NA               10 m     </span>
<span class="co">#&gt;  9       9      182 1861-11-26       1861-11-30   NA               13 m     </span>
<span class="co">#&gt; 10      10       45 1861-11-21       1861-11-25   NA                7 f     </span>
<span class="co">#&gt; # … with 178 more rows, and 5 more variables: family_ID &lt;int&gt;, class &lt;fct&gt;,</span>
<span class="co">#&gt; #   complications &lt;fct&gt;, x_loc &lt;dbl&gt;, y_loc &lt;dbl&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // tags: date_onset:date_of_prodrome, date_death:date_of_death, gender:gender, age:age</span></code></pre></div>
<p>The printing of the object confirms that the tags have been added. If we want to double-check which variables have been tagged:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="reference/tags.html">tags</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; $date_onset</span>
<span class="co">#&gt; [1] "date_of_prodrome"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $date_death</span>
<span class="co">#&gt; [1] "date_of_death"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $gender</span>
<span class="co">#&gt; [1] "gender"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $age</span>
<span class="co">#&gt; [1] "age"</span></code></pre></div>
<p>Let us now assume we also want to record the outcome: it is currently missing, but can be built from dates of deaths (missing date = survived). This can be done by using <code>mutate</code> on <code>x</code> to create the new variable (remember <code>x</code> is not only a <code>linelist</code>, but also a regular <code>tibble</code> and this compatible with <code>dplyr</code> verbs), and setting up a new tag using <code>set_tags</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">x</span> <span class="op">&lt;-</span> <span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>inferred_outcome <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">date_of_death</span><span class="op">)</span>, <span class="st">"survided"</span>, <span class="st">"died"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="reference/set_tags.html">set_tags</a></span><span class="op">(</span>outcome <span class="op">=</span> <span class="st">"inferred_outcome"</span><span class="op">)</span>
<span class="va">x</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // linelist object</span>
<span class="co">#&gt; # A tibble: 188 × 13</span>
<span class="co">#&gt;    case_ID infector date_of_prodrome date_of_rash date_of_death   age gender</span>
<span class="co">#&gt;      &lt;int&gt;    &lt;int&gt; &lt;date&gt;           &lt;date&gt;       &lt;date&gt;        &lt;dbl&gt; &lt;fct&gt; </span>
<span class="co">#&gt;  1       1       45 1861-11-21       1861-11-25   NA                7 f     </span>
<span class="co">#&gt;  2       2       45 1861-11-23       1861-11-27   NA                6 f     </span>
<span class="co">#&gt;  3       3      172 1861-11-28       1861-12-02   NA                4 f     </span>
<span class="co">#&gt;  4       4      180 1861-11-27       1861-11-28   NA               13 m     </span>
<span class="co">#&gt;  5       5       45 1861-11-22       1861-11-27   NA                8 f     </span>
<span class="co">#&gt;  6       6      180 1861-11-26       1861-11-29   NA               12 m     </span>
<span class="co">#&gt;  7       7       42 1861-11-24       1861-11-28   NA                6 m     </span>
<span class="co">#&gt;  8       8       45 1861-11-21       1861-11-26   NA               10 m     </span>
<span class="co">#&gt;  9       9      182 1861-11-26       1861-11-30   NA               13 m     </span>
<span class="co">#&gt; 10      10       45 1861-11-21       1861-11-25   NA                7 f     </span>
<span class="co">#&gt; # … with 178 more rows, and 6 more variables: family_ID &lt;int&gt;, class &lt;fct&gt;,</span>
<span class="co">#&gt; #   complications &lt;fct&gt;, x_loc &lt;dbl&gt;, y_loc &lt;dbl&gt;, inferred_outcome &lt;chr&gt;</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // tags: date_onset:date_of_prodrome, date_death:date_of_death, gender:gender, age:age, outcome:inferred_outcome</span></code></pre></div>
<p>Now that key variables have been tagged in <code>x</code>, we can used these pre-defined fields in downstream analyses, without having to worry about variable names and types. We could access tagged variables using any of the following means:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># select tagged variables only</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="reference/select_tags.html">select_tags</a></span><span class="op">(</span><span class="va">date_onset</span>, <span class="va">date_death</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 188 × 2</span>
<span class="co">#&gt;    date_onset date_death</span>
<span class="co">#&gt;    &lt;date&gt;     &lt;date&gt;    </span>
<span class="co">#&gt;  1 1861-11-21 NA        </span>
<span class="co">#&gt;  2 1861-11-23 NA        </span>
<span class="co">#&gt;  3 1861-11-28 NA        </span>
<span class="co">#&gt;  4 1861-11-27 NA        </span>
<span class="co">#&gt;  5 1861-11-22 NA        </span>
<span class="co">#&gt;  6 1861-11-26 NA        </span>
<span class="co">#&gt;  7 1861-11-24 NA        </span>
<span class="co">#&gt;  8 1861-11-21 NA        </span>
<span class="co">#&gt;  9 1861-11-26 NA        </span>
<span class="co">#&gt; 10 1861-11-21 NA        </span>
<span class="co">#&gt; # … with 178 more rows</span>

<span class="co"># select tagged variables only with renaming on the fly</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="reference/select_tags.html">select_tags</a></span><span class="op">(</span>onset <span class="op">=</span> <span class="va">date_onset</span>, <span class="va">date_death</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 188 × 2</span>
<span class="co">#&gt;    onset      date_death</span>
<span class="co">#&gt;    &lt;date&gt;     &lt;date&gt;    </span>
<span class="co">#&gt;  1 1861-11-21 NA        </span>
<span class="co">#&gt;  2 1861-11-23 NA        </span>
<span class="co">#&gt;  3 1861-11-28 NA        </span>
<span class="co">#&gt;  4 1861-11-27 NA        </span>
<span class="co">#&gt;  5 1861-11-22 NA        </span>
<span class="co">#&gt;  6 1861-11-26 NA        </span>
<span class="co">#&gt;  7 1861-11-24 NA        </span>
<span class="co">#&gt;  8 1861-11-21 NA        </span>
<span class="co">#&gt;  9 1861-11-26 NA        </span>
<span class="co">#&gt; 10 1861-11-21 NA        </span>
<span class="co">#&gt; # … with 178 more rows</span>

<span class="co"># get all tagged variables in a data.frame</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="reference/tags_df.html">tags_df</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 188 × 5</span>
<span class="co">#&gt;    date_onset date_death gender   age outcome </span>
<span class="co">#&gt;    &lt;date&gt;     &lt;date&gt;     &lt;fct&gt;  &lt;dbl&gt; &lt;chr&gt;   </span>
<span class="co">#&gt;  1 1861-11-21 NA         f          7 survided</span>
<span class="co">#&gt;  2 1861-11-23 NA         f          6 survided</span>
<span class="co">#&gt;  3 1861-11-28 NA         f          4 survided</span>
<span class="co">#&gt;  4 1861-11-27 NA         m         13 survided</span>
<span class="co">#&gt;  5 1861-11-22 NA         f          8 survided</span>
<span class="co">#&gt;  6 1861-11-26 NA         m         12 survided</span>
<span class="co">#&gt;  7 1861-11-24 NA         m          6 survided</span>
<span class="co">#&gt;  8 1861-11-21 NA         m         10 survided</span>
<span class="co">#&gt;  9 1861-11-26 NA         m         13 survided</span>
<span class="co">#&gt; 10 1861-11-21 NA         f          7 survided</span>
<span class="co">#&gt; # … with 178 more rows</span>

<span class="co"># hybrid selection</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, tags <span class="op">=</span> <span class="st">"gender"</span><span class="op">)</span>
<span class="co">#&gt; Warning in prune_tags(out, lost_action): The following tags have lost their variable:</span>
<span class="co">#&gt;  date_onset:date_of_prodrome, date_death:date_of_death, age:age, outcome:inferred_outcome</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // linelist object</span>
<span class="co">#&gt; # A tibble: 188 × 3</span>
<span class="co">#&gt;    case_ID infector gender</span>
<span class="co">#&gt;      &lt;int&gt;    &lt;int&gt; &lt;fct&gt; </span>
<span class="co">#&gt;  1       1       45 f     </span>
<span class="co">#&gt;  2       2       45 f     </span>
<span class="co">#&gt;  3       3      172 f     </span>
<span class="co">#&gt;  4       4      180 m     </span>
<span class="co">#&gt;  5       5       45 f     </span>
<span class="co">#&gt;  6       6      180 m     </span>
<span class="co">#&gt;  7       7       42 m     </span>
<span class="co">#&gt;  8       8       45 m     </span>
<span class="co">#&gt;  9       9      182 m     </span>
<span class="co">#&gt; 10      10       45 f     </span>
<span class="co">#&gt; # … with 178 more rows</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // tags: gender:gender</span></code></pre></div>
<p>Note especially the meaningful warning in the last example, in which <code>select</code> removes some of the variables that were tagged. This behaviour can be silenced if needed, or could be changed to issue an error (for stronger pipelines for instance):</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="co"># hybrid selection - no warning</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, tags <span class="op">=</span> <span class="st">"gender"</span>, lost_action <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // linelist object</span>
<span class="co">#&gt; # A tibble: 188 × 3</span>
<span class="co">#&gt;    case_ID infector gender</span>
<span class="co">#&gt;      &lt;int&gt;    &lt;int&gt; &lt;fct&gt; </span>
<span class="co">#&gt;  1       1       45 f     </span>
<span class="co">#&gt;  2       2       45 f     </span>
<span class="co">#&gt;  3       3      172 f     </span>
<span class="co">#&gt;  4       4      180 m     </span>
<span class="co">#&gt;  5       5       45 f     </span>
<span class="co">#&gt;  6       6      180 m     </span>
<span class="co">#&gt;  7       7       42 m     </span>
<span class="co">#&gt;  8       8       45 m     </span>
<span class="co">#&gt;  9       9      182 m     </span>
<span class="co">#&gt; 10      10       45 f     </span>
<span class="co">#&gt; # … with 178 more rows</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; // tags: gender:gender</span>

<span class="co"># hybrid selection - error due to lost tags</span>
<span class="va">x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, tags <span class="op">=</span> <span class="st">"gender"</span>, lost_action <span class="op">=</span> <span class="st">"error"</span><span class="op">)</span>
<span class="co">#&gt; Error in prune_tags(out, lost_action): The following tags have lost their variable:</span>
<span class="co">#&gt;  date_onset:date_of_prodrome, date_death:date_of_death, age:age, outcome:inferred_outcome</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="contributing-guidelines">Contributing guidelines<a class="anchor" aria-label="anchor" href="#contributing-guidelines"></a>
</h2>
<p>Contributions are welcome via <strong>pull requests</strong>.</p>
<div class="section level3">
<h3 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h3>
<p>Please note that the linelist project is released with a <a href="https://contributor-covenant.org/version/2/0/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/epiverse-trace/linelist/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/epiverse-trace/linelist/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing linelist</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Thibaut Jombart <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Thibaut Jombart.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
